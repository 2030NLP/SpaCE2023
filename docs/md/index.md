# <center>第三届中文空间语义理解评测任务（SpaCE2023）</center>

**[<center>👉 <font style=color:rgb(226,76,71)>点我立即报名</font> 👈</center>](https://docs.qq.com/form/page/DSWpjbFlsdU5wYXdt)**



- 主办单位：北京大学
- 组织者：詹卫东，穗志方
- 工作人员：肖力铭，孙春晖，李楠，邢丹，秦宇航，邓思锐，王诚文，岳朋雪，王希豪，邱晓枫，祝方韦 等
- 联系方式：[lmxiao@stu.pku.edu.cn]()

> <br/>
> 
> - <a href="#content">任务内容</a>
> - <a href="#data">评测数据</a>
>     - <a href="#subtask">任务要求与数据样例</a>
>         - <a href="#task1">子任务1：空间语义异常识别</a>
>         - <a href="#task2">子任务2：空间语义角色标注</a>
>         - <a href="#task3">子任务3：空间场景异同判断</a>
>     - <a href="#distribution">数据规模与分布</a>
> - <a href="#eval">评测指标</a>
> - <a href="#schedule">评测赛程</a>
> - <a href="#register">报名方式</a>
> - <a href="#award">奖项设置</a>
> - <a href="#appendix">附录</a>
> <br/>

<!--20230404-->

### <center>1.  <span id="content">任务内容</span></center>

#### 1.1  任务简介

空间范畴是人类认知中重要的基础范畴。理解文本中的空间信息不仅需要掌握词汇、 句法语义知识，还需要用到常识或背景知识，调动认知能力来构建空间场景。

空间语义理解在自然语言处理领域受到了广泛关注，导航、文景转换等应用都要求机 器能够理解自然语言中的空间信息。具备空间语义理解能力的机器应该能够判断空间信息的 正常或异常与否，如“跳进”必须搭配一个表示空间内部方位的成分，所以“跳进山洞中” 是正常的空间信息，“跳进山洞外”则存在异常。此外，机器还应该有能力将不同文本中全 部的空间信息结构化地提取出来，并区分文本中空间场景的异同。

为了评测机器的空间语义理解能力，推进空间范畴的认知计算建模研究，我们于 2021 年开始连续两年举办了中文空间语义理解评测任务（Spatial Cognition Evaluation，简称 SpaCE）。今年，我们继续推出**第三届中文空间语义理解评测（SpaCE2023）**，包含如下 3 个子任务：

**子任务1，空间语义异常识别**：识别给定中文文本中空间语义信息异常的文本片段。

**子任务2，空间语义角色标注**：基于给定的空间关系标注规范，对给定中文文本进行空间实体的识别与空间方位关系标注。

**子任务3，空间场景异同判断**：阅读两个在形式上相似且都包含空间场景信息描述的中文文本，对它们是否可以描述相同的空间场景进行判断，并说明判断的理由。

#### 1.2  与 SpaCE2022 的比较

SpaCE2023 与 SpaCE2022 相比，有如下变化：

- 删除了空间语义正误判断任务，以及异常归因任务；
- 保留了异常文本识别任务，以及空间语义角色标注任务，并改进了数据格式，更新了测试集，提高了标注质量；
- 新增了生成类任务，要求机器判断两段在语言表达形式上有差异的文本是否可以描述相同的空间场景，并说明判断理由。

> <br/>
> 
> 注：第一届中文空间语义理解评测（SpaCE2021）的相关资源可访问以下链接获取：
> - Github 仓库： https://github.com/2030NLP/SpaCE2021
> - 评测网站： http://ccl.pku.edu.cn:8084/SpaCE2021/
> 
> 第二届中文空间语义理解评测（SpaCE2022）的相关资源可访问以下链接获取：
> - Github 仓库： https://github.com/2030NLP/SpaCE2022
> - 评测网站： https://2030nlp.github.io/SpaCE2022/
> <br/>



### <center>2.  <span id="data">评测数据</span></center>

#### 2.1  <span id="subtask">任务要求与数据样例<span>

各子任务的要求说明及样例如下。

##### 2.1.1  <span id="task1">子任务1：空间语义异常识别<span>

子任务 1 的数据主要包含 3 个部分：
- ① id：数据编号；
- ② context：存在空间语义异常的文本；
- ③ fragments：异常文本片段。每个文本片段包含 3 个字段，分别是角色（role）、文本内容（text）和字序数组 （idxes）。role 字段的取值有空间实体（`S`）、空间方位（`P`）和事件（`E`）。

文本片段的选取可能有以下3种情况：
- 选取 1 个或 2 个文本片段，反映片段或者相邻片段之间存在空间方位信息的搭配问题。如`“头朝里，尾巴向旁”`，`“向旁”`出现搭配问题，因为介词`“向”`和外围义方位词`“旁”`不能搭配，所以`“向旁”`的 role 字段为 `P`。
- 选取 3 个文本片段，反映文本中不符合常识或背景信息的空间信息。这些片段形成一个 S-P-E 三元组，表达的空间信息在常识中或在上下文所描述的语境中是不合理的。如`“双手插在裤子口袋外”`存在异常，根据常识，手应该插在口袋里，则有`[S-双手，P-在口袋外，E-插]`。
- 选取 6 个文本片段，反映文本中有语义冲突的空间信息。这些片段形成两个 S-P-E 三元组，它们表达的空间场景在文本中不可能同时成立，如`[S-手臂，P-垂直于地面，E-举]`与`[S- 手臂，P-平行于地面，E-举]`。

该任务要求参赛系统对于输入的context返回fragments数组，数组的每一项代表一个候选答案。每道题参赛系统可以提交不超过3个候选答案，评价时取与参考答案匹配程度最高的候选答案进行计分。数据样例如下，这里列出了所有候选答案：

> <br/>
> 
> 输入：
> { "qid": "1-train-221", 
  &ensp;"context": "我国著名学者童第周在1978年成功地进行了黑斑蛙的克隆试验。他将黑斑蛙的红细胞的核移入事先除去了核的黑斑蛙卵前，这种换核卵最后长成能在水中自由游泳的蝌蚪。" }
>
> 输出：
> { "qid": "1-train-221",
  &ensp;"fragments": [
    &emsp;&emsp;[ { "role": "E", "text": "移入", "idxes": [41,42] },
    &emsp;&emsp;&ensp;{ "role": "P", "text": "卵前", "idxes": [53,54] } ],
    &emsp;&emsp;[ { "role": "S", "text": "黑斑蛙的红细胞的核", "idxes": [32,33,34,35,36,37,38,39,40] },
    &emsp;&emsp;&ensp;{ "role": "P", "text": "除去了核的黑斑蛙卵前", "idxes": [45,46,47,48,49,50,51,52,53,54] },
    &emsp;&emsp;&ensp;{ "role": "E", "text": "移入", "idxes": [41,42] } ],
    &emsp;&emsp;[ { "role": "S", "text": "红细胞的核", "idxes": [36,37,38,39,40] },
    &emsp;&emsp;&ensp;{ "role": "P", "text": "黑斑蛙卵前", "idxes": [50,51,52,53,54] },
    &emsp;&emsp;&ensp;{ "role": "E", "text": "移入", "idxes": [41,42] } ],
    &emsp;&emsp;[ { "role": "S", "text": "核", "idxes": [40] },
    &emsp;&emsp;&ensp;{ "role": "P", "text": "卵前", "idxes": [53,54] },
    &emsp;&emsp;&ensp;{ "role": "E", "text": "移入", "idxes": [41,42] } ] ] }
> <br/>

特别说明：
1.字序号数组 idxes 描述了 text 中每个字符在 context 中的序号。序号从 0 开始计算。请特别注意： **idxes 不一定连续**。
2.对于形成两组S-P-E三元组的情况，role取值相同的文本片段可能有相同的text和idxes。
3.对于S-P-E三元组，文中不一定出现某些role，此时该**role的取值可以缺省**。
<br/>
##### 2.1.2  <span id="task2">子任务2：空间语义角色标注<span>

子任务 2 的数据包含 4 个部分：
- ① id：数据编号；
- ② context：待标注的文本；
- ③ outputs： 空间实体及其空间方位信息，描述了“某空间实体在某时，经由某事件，满足某种空间方位关系，这一命题的事实性为真/假”的信息。共有 **15** 个语义角色可供标注，如表1所示。文本片段型角色需要记录文本内容（text）和字序数组（idxes），标签型角色需要记录标签的值（label）。 没有出现的角色不需要标注；
- ④ corefs：文本中不同形但同指的片段，供评分使用，参赛者无需标注。

**<center>表1 子任务2语义角色说明</center>**
<table class="table table-bordered">
<thead>
<tr>
<th>序号</th>
<th>名称</th>
<th>数据类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>1</code></td>
<td>空间实体</td>
<td>文本片段</td>
<td>对应于被描述空间方位的空间实体。</td>
</tr>
<tr>
<td><code>2</code></td>
<td>参照实体</td>
<td>文本片段</td>
<td>对应于与 <code>1</code>号角色形成距离关系的另一个空间实体。</td>
</tr>
<tr>
<td><code>3</code></td>
<td>事件</td>
<td>文本片段</td>
<td>与空间实体的空间方位直接关联的事件。</td>
</tr>
<tr>
<td><code>4</code></td>
<td>事实性</td>
<td>标签</td>
<td>如果元组所述的空间方位命题是假的，则该字段为 <code>"假"</code>。</td>
</tr>
<tr>
<td rowspan="3"><code>5</code></td>
<td rowspan="3">时间</td>
<td>文本片段</td>
<td>文中写明的与空间方位相关联事件的时间表述。</td>
</tr>
<tr>
<td>标签</td>
<td>如果空间实体处于某种空间方位关系的时间在文中并未写明，但可以推断绝对时间，则需要选择可能的标签值：<code>"说话时" / "过去" / "将来"</code></td>
</tr>
<tr>
<td>文本片段+标签</td>
<td>如果空间实体处于某种空间方位关系的时间在文中并未写明，但可以推断参照时间，则需要在文本中选择参照事件，并选择可能的标签值：<code>"之时" / "之前" / "之后" / "之间"</code></td>
</tr>
<tr>
<td><code>6</code></td>
<td>处所</td>
<td>文本片段</td>
<td>描述静态空间实体相对某外部参照物的位置。</td>
</tr>
<tr>
<td><code>7</code></td>
<td>起点</td>
<td>文本片段</td>
<td>描述动态空间实体的方位发生变化的场景下，变化开始时实体的处所。</td>
</tr>
<tr>
<td><code>8</code></td>
<td>终点</td>
<td>文本片段</td>
<td>描述动态空间实体的方位发生变化的场景下，变化结束时实体的处所。</td>
</tr>
<tr>
<td><code>9</code></td>
<td>方向</td>
<td>文本片段</td>
<td>描述动态空间实体的位移方向。（空间实体在动态中才有方向特征）</td>
</tr>
<tr>
<td><code>10</code></td>
<td>朝向</td>
<td>文本片段</td>
<td>描述空间实体某一侧面所朝向的位置。</td>
</tr>
<tr>
<td><code>11</code></td>
<td>部件处所</td>
<td>文本片段</td>
<td>描述空间实体作为一个部件在整体中的位置。</td>
</tr>
<tr>
<td><code>12</code></td>
<td>部位</td>
<td>文本片段</td>
<td>描述了空间实体的某个部位。</td>
</tr>
<tr>
<td><code>13</code></td>
<td>形状</td>
<td>文本片段</td>
<td>描述了空间实体的形状。</td>
</tr>
<tr>
<td><code>14</code></td>
<td>路径</td>
<td>文本片段</td>
<td>描述了空间实体位移时经过的轨迹。</td>
</tr>
<tr>
<td rowspan="2"><code>15</code></td>
<td rowspan="2">距离</td>
<td>文本片段</td>
<td>文中写明的描述了空间实体间距离关系的表述，与<code>1</code>号角色和<code>2</code>号角色共同描述。</td>
</tr>
<tr>
<td>标签</td>
<td>文中并未写明空间实体间的距离关系但可以推断，可能的值为<code>"远" / "近" / "变远" / "变近"</code>。</td>
</tr>
</tbody></table>

> <br/>
> 
> 注：上述角色满足以下约束关系：
> - 1号角色“空间实体”是核心，必定存在。
> - 2号角色“参照实体”只与15号角色“距离”同时出现。
> - 6-14号角色不会与15号角色同时出现。
> <br/>

该任务要求参赛系统对输入的 context 使用上表的 15 个角色标注出现的所有空间信息。最终输出一个outputs元组，其中的每一项是一条空间信息，每条空间信息标注了所使用的元素。样例如下：

> <br/>
> 
> 输入：
> { "qid": "2-train-21", 
  &ensp;"context": "老妇人跪在那坑里，用手舀出那些水。舀几下，她就得休息一会儿。到底，她把坑里的水全舀干了。于是她回到那死者旁边，两手抄在死者的腋窝下，把他拖走。" }
>
> 输出：
> { "qid": "2-train-21",
  &ensp;"outputs": []}
> <br/>

##### 2.1.3  <span id="task3">子任务3：空间场景异同判断<span>

子任务3的数据包含3个部分：
- ① id：数据编号；
- ② context1：包含空间场景信息描述的文本；
- ③ context2：包含空间场景信息描述的文本。context1 和 context2 存在差异文本 D1 和 D2，它们在形式上存在差异。D1 和 D2 都是连续字符串，是合法的语言单位（词、词组、子句等），意义清晰且相对完整。context1 去除 D1 后剩下的部分，和 context2 去除 D2 后剩下的部分，在形式上完全相同；
- ④ judge：对两个文本空间场景异同的判断，相同为 true，不同为 false；
- ⑤ explanation：说明空间场景相同或不相同的理由。生成的内容应该包括以下三个部分：
  - 指出 context1 和 context2 的差异文本 D1 和 D2;
  - 指出差异文本所描述的空间场景中出现的空间实体;
  - 运用空间实体及其空间方位信息描述空间场景。

为了帮助机器生成更自然的文本，我们设计了两个答题模板供参赛系统参考，分别对应空间场景相同和不同的情况。每个模板有数个填充槽< >，槽内的文字是对答题要点的描述：

- 模板一：两段文本表示相同的空间场景
>  <br/>
> 
> “两段文本的差异在于`<取自 context1 的字符串>`和`<取自 context2 的字符串>`。两个表述中都出现了以下空间实体：`<空间实体>`。尽管两段文本在描述`<空间实体/空间关系/事件>`的方式上有所区别，但实际上，这两种表述可以描述相同的空间场景。在这个空间场景中，`<实体间相近或相同的空间关系>`。因此，在这种情况下，这两段文本可以描述相同的空间场景。” 
>  <br/>

样例如下：
>  <br/>
> 
> 输入：
> {"context1": "然后李光头在一张圆桌前坐了下来，十四个忠臣也围坐在圆桌前，两个瘸子坐在李光头的左右，这样能够显示他们的身份;三个傻子和五个聋子依次坐开去，他们东张西望地看看饭店里的摆设，又看看饭店外街道上的行人，四个瞎子坐在李光头的对面，他们最安静，手拄竹竿仰起脸笑眯眯。"
> "context2": "然后李光头在一张圆桌前坐了下来，十四个忠臣也围坐在圆桌边，两个瘸子坐在李光头的左右，这样能够显示他们的身份;三个傻子和五个聋子依次坐开去，他们东张西望地看看饭店里的摆设，又看看饭店外街道上的行人;四个瞎子坐在李光头的对面，他们最安静，手拄竹竿仰起脸笑眯眯。"}
> 
> 输出：
> {"judge": "true",
> "explanation": "两段文本的差异在于“圆桌前”和“圆桌边”。两个表述中都出现了以下空间实体：圆桌、李光头、忠臣、瘸子、傻子、聋子和瞎子。尽管两段文本在描述人物围坐圆桌的方式上有所区别，但实际上，这两种表述可以描述相同的空间场景。在这个空间场景中，李光头和其手下人物围坐在一张圆桌周围，形成一个圆形的座位布局。因 此，在这种情况下，这两段文本可以描述相同的空间场景。"}
> <br/>

- 模板二：两段文本表示不同的空间场景
> <br/>
> 
> “两段文本的差异在于`<取自 context1 的字符串>`和`<取自context2 的字符串>`。两个文本中出现了以下空间实体：`<空间实体>`。在第一段中，`<造成差异的空间关系>`；而在第二段中，`<造成差异的空间关系>`。这两种描述在`<空间关系>`上存在差异，所以不能描述相同的空间场景。”
> <br/>

样例如下：
> <br/>
> 
> 输入：
> {“context1”: “人多的时候，爸爸不爱说话，妈妈只好说个没完没了。客人走后，特别是饭桌上，奶奶、爸爸和我争着同妈妈说话，直到我双手将妈妈的脸扳向我为止。爸爸争不过我，就在熄灯之后拼命讲话，只有当他注意到我没有睡着也听得出神的时候，就习惯地命令我：转过去，快睡着。”
> “context2”: “人多的时候，爸爸不爱说话，妈妈只好说个没完没了。客人走后，特别是饭桌上，奶奶、爸爸和我争着同妈妈说话，直到我双手将妈妈的脸扳向我为止。爸爸争不过我，就在熄灯之后拼命讲话，只有当他注意到我没有睡着也听得出神的时候，就习惯地命令我：转回来，快睡着。”}
> 
> 输出： {"judge": "false",
> "explanation":"两段文本的差异在于“转过去”和“转回来”。两个文本中出现了以下空间实体：爸爸、妈妈、奶奶、我。在第一段中，爸爸在讲话时命令我“转过去”，意味着我面对着他；而在第二段中，他命令我“转回来”，意味着我已经背对他了。这两种描述在方向上存在差异，所以不能描述相同的空间场景。"}
> <br/>


#### 2.2  <span id="distribution">数据规模与分布<span>

子任务一约 7,000 条语料，子任务二约 2,000 条语料，均按 7:1:2 的比例划分了训练集、验证集和测试集。子任务三不划分子集，只提供约 300 对语料的测试集，即 600 条语料。

语料共约 100 万字符，涉及多种不同类型和来源，包括：报刊语料、文学作品语料、中小学课本语料、交通事故判决书语料，体育动作语料、地理百科语料、以及其他语料。


### 3.  <span id="eval">评价标准<span>

#### 3.1  子任务1的评价标准

子任务 1 采用元素识别准确性作为评价指标，计算过程如下：

- ① 对于每个待检查的 fragments（称为“待检项”），与参考答案中的 fragments（称为“参考项”）进行逐个比较。对于待检项中的每个 role 中的每个字符（idxes 字段），仅当参考项的相同 role 中找到了该字符，才视为该字符是正确检出的字符；
- ② 按上述标准计算待检项与参考项文本的 F1 值，公式如下：
```
F1 = ( 2 × P × R ) / ( P + R )
```
```
P = 正确检出字符数 / 待检项总字符数
```
```
R = 正确检出字符数 / 参考项总字符数
```
- ③ 找到得分最高的待检项，以此项得分计为该题在元素识别准确性上的得分。对所有题目计算平均值作为参赛者的最终得分。


#### 3.2  子任务2的评价标准

子任务2按照以下步骤计算得分，作为评价指标：

- ① 分别从参考答案和提交答案中获取 outputs 元组数组，称为参考数组和待检数组，其中的每个元组分别称为参考元组和待检元组，元组中的元素分别称为参考元素和待检元素；
- ② 对待检元组和参考元组进行匹配。对于每个元组对，按照以下程序计算待检元组的得分：
  - 对于“空间实体”和“参照实体”，计算 idxes 字段的 F1 值；对于其他文本片段类的元素，计算 text 字段的 F1 值；对于标签类的元素，相同计 1 分，不同计 0 分。其中，空间实体类元素（1-2 号元素）的匹配将会参考 corefs 数组，求其可能获得的最高得分。当参考元素和待检元素都不出现，此元素不计分。当参考元素和待检元素有一个不出现，此元素不计分。
  - 如果空间实体类元素（1-2 号元素）完全不匹配，则整个待检元组得 0 分，否则对所有待检元素的得分求和，作为此待检元组的得分；
- ③ 对于所有待检数组和参考数组，遍历所有可能的匹配方式，使得待检数组中的所有待检元组能够得到最高总分。以此得分作为此题最终得分；
- ④ 对于数据集中所有题目计算 F1 值，作为子任务 2 的最终得分。

更详细的说明请看：task3-eval.md

##### 3.3  子任务3的评价标准

子任务 3 首先根据judge字段的结果评价异同判断是否正确，如果错误，该题得0分；如果正确，采用人工评价对explanation字段的生成文本进行打分。评分内容包括文本流畅度、解释准确性、是否准确识别空间实体、对空间方位关系的运用等方面。

##### 3.4  最终排名

在所有参赛队伍的评测结果产生之后，计算每个任务下各个队伍的标准分数（Z-score），对三个任务的标准分数取平均，作为最终排名的依据。参赛队伍在某一子任务上的标准分数 计算公式如下，其中 X 为该子任务上该参赛队伍的分数，$\bar{X}$为该子任务上所有参赛队伍分数的平均数，s 为该子任务上所有参赛队伍分数的标准差：
```
Z = (X - X̄) / s
```

### 4.  <span id="schedule">评测赛程<span>
**<center>表2 评测赛事日程</center>**
<table class="table table-bordered">
<thead>
<tr>
<th>时间</th>
<th>事项</th>
</tr>
</thead>
<tbody><tr>
<td>4月5日-5月15日</td>
<td>开放报名</td>
</tr>
<tr>
<td>5月1日</td>
<td>发布子任务1和子任务2的训练集及无答案验证集，开放结果提交</td>
</tr>
<tr>
<td>5月5日</td>
<td>发布子任务3的无答案测试集</td>
</tr>
<tr>
<td>5月11日</td>
<td>发布子任务1和子任务2的验证集答案</td>
</tr>
<tr>
<td>6月5日</td>
<td>发布子任务1和子任务2的无答案测试集，开放提交测试集结果</td>
</tr>
<tr>
<td>6月8日</td>
<td>测试集结果提交截止</td>
</tr>
<tr>
<td>6月11日</td>
<td>提交最终版本的模型</td>
</tr>
<tr>
<td>6月14日</td>
<td>公布成绩和排名</td>
</tr>
<tr>
<td>8月4日-6日</td>
<td>评测研讨会</td>
</tr>
</tbody></table>

（以上时间可能还会有调整，请关注网站最新消息）

### 5.  <span id="register">报名方式<span>

请仔细阅读附录《第三届中文空间语义理解评测（SpaCE2023）参赛协议》和《第三届中文空间语义理解评测（SpaCE2023）数据集使用许可》，然后点击进入 [报名链接](https://docs.qq.com/form/page/DSWpjbFlsdU5wYXdt) 进行报名。


### 6.  <span id="award">奖项设置<span>

本任务不设置奖项。由中国中文信息学会提供荣誉证书。

### 7.  <span id="appendix">附录<span>

- <a href="https://github.com/2030NLP/SpaCE2023/blob/main/agreements/Agreement.md" target="_blank">第三届中文空间语义理解评测（SpaCE2023）参赛协议</a>
- <a href="https://github.com/2030NLP/SpaCE2023/blob/main/agreements/LICENSE.md" target="_blank">第三届中文空间空间语义理解评测（SpaCE2023）数据集使用许可</a>

